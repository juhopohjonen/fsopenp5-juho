{"ast":null,"code":"var _jsxFileName = \"/home/juho/Documents/fullstackopen/fsopenp5-juho/blogilista-frontend/src/App.js\",\n    _s = $RefreshSig$(),\n    _s2 = $RefreshSig$();\n\nimport { useState, useEffect } from 'react';\nimport Blog from './components/Blog';\nimport blogService from './services/blogs';\nimport loginService from './services/login';\nimport CreateNew from './components/CreateNew';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Blogs = _ref => {\n  let {\n    blogs,\n    user,\n    logoutFunc,\n    setBlogs\n  } = _ref;\n\n  const likeBlog = async (blog, likes) => {\n    let newBlogLikes = likes + 1;\n    let blogObject = {\n      user: blog.user,\n      likes: newBlogLikes,\n      author: blog.author,\n      title: blog.title,\n      url: blog.url,\n      id: blog.id\n    };\n\n    try {\n      const returnedBlog = await blogService.changeBlog(blogObject);\n      console.log('blog likes are', newBlogLikes);\n      return newBlogLikes;\n    } catch (e) {\n      alert('Liking the blog failed!');\n    }\n  };\n\n  const createBlog = _ref2 => {\n    let {\n      author,\n      title,\n      url\n    } = _ref2;\n    const blogCreation = blogService.sendBlogCreation({\n      author,\n      title,\n      url\n    });\n    return blogCreation;\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"blogs\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 43,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n      children: [user.name, \" logged in\", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: logoutFunc,\n        children: \"logout\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 44,\n        columnNumber: 31\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), blogs.map(blog => /*#__PURE__*/_jsxDEV(Blog, {\n      likeFunction: likeBlog,\n      user: user,\n      blogs: blogs,\n      setBlogs: setBlogs,\n      blog: blog\n    }, blog.id, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 26\n    }, this)), /*#__PURE__*/_jsxDEV(CreateNew, {\n      setBlogs: setBlogs,\n      blogs: blogs,\n      createBlogFunc: createBlog\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 42,\n    columnNumber: 5\n  }, this);\n};\n\n_c = Blogs;\n\nconst SignIn = _ref3 => {\n  _s();\n\n  let {\n    setUserState,\n    visibility,\n    toggleVisibility\n  } = _ref3;\n  console.log('visibility is ', visibility);\n  const [username, setUserName] = useState('');\n  const [password, setPassword] = useState('');\n\n  const changeName = e => {\n    setUserName(e.target.value);\n  };\n\n  const changePass = e => {\n    setPassword(e.target.value);\n  };\n\n  if (!visibility && !window.localStorage.getItem('loggedInUser')) {\n    return /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleVisibility,\n      children: \"log in\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 73,\n      columnNumber: 12\n    }, this);\n  }\n\n  const submitLogin = async e => {\n    e.preventDefault();\n\n    try {\n      const user = await loginService.login({\n        username,\n        password\n      });\n      window.localStorage.setItem('loggedInUser', JSON.stringify(user));\n      blogService.setToken(user.token);\n      setUserState(user);\n      setUserName('');\n      setPassword('');\n    } catch (e) {\n      alert('wrong credintials!');\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"log in to application\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: submitLogin,\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"username\", /*#__PURE__*/_jsxDEV(\"input\", {\n          value: username,\n          onChange: changeName\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 102,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        children: [\"password\", /*#__PURE__*/_jsxDEV(\"input\", {\n          type: 'password',\n          value: password,\n          onChange: changePass\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 108,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 106,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n        type: \"submit\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleVisibility,\n      children: \"cancel\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 99,\n    columnNumber: 5\n  }, this);\n};\n\n_s(SignIn, \"77lfu0QofYWzE21P+Ljjc0SKKFw=\");\n\n_c2 = SignIn;\n\nconst App = () => {\n  _s2();\n\n  const [blogs, setBlogs] = useState([]);\n  const [loginVisible, setLoginVisible] = useState(false);\n  const hideWhenVisible = {\n    display: loginVisible ? 'none' : ''\n  };\n  const showWhenVisible = {\n    display: loginVisible ? '' : 'none'\n  };\n\n  const toggleLoginVisibility = () => setLoginVisible(!loginVisible);\n\n  const [user, setUser] = useState(null);\n\n  const logout = () => {\n    window.localStorage.removeItem('loggedInUser');\n    setUser(null);\n  };\n\n  useEffect(() => {\n    blogService.getAll().then(blogs => {\n      let sortedBlogs = blogs.sort((a, b) => a.likes - b.likes);\n      sortedBlogs.reverse();\n      setBlogs(sortedBlogs);\n    });\n  }, []);\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedInUser');\n\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON);\n      blogService.setToken(user.token);\n      setUser(user);\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: user !== null ? /*#__PURE__*/_jsxDEV(Blogs, {\n      blogs: blogs,\n      user: user,\n      logoutFunc: logout,\n      setBlogs: setBlogs\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 155,\n      columnNumber: 9\n    }, this) : /*#__PURE__*/_jsxDEV(SignIn, {\n      setUserState: setUser,\n      visibility: loginVisible,\n      toggleVisibility: toggleLoginVisibility\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 156,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 152,\n    columnNumber: 5\n  }, this);\n};\n\n_s2(App, \"dHZ5TKE+LjvR4ewk/5xcCxsFqr4=\");\n\n_c3 = App;\nexport default App;\n\nvar _c, _c2, _c3;\n\n$RefreshReg$(_c, \"Blogs\");\n$RefreshReg$(_c2, \"SignIn\");\n$RefreshReg$(_c3, \"App\");","map":{"version":3,"sources":["/home/juho/Documents/fullstackopen/fsopenp5-juho/blogilista-frontend/src/App.js"],"names":["useState","useEffect","Blog","blogService","loginService","CreateNew","Blogs","blogs","user","logoutFunc","setBlogs","likeBlog","blog","likes","newBlogLikes","blogObject","author","title","url","id","returnedBlog","changeBlog","console","log","e","alert","createBlog","blogCreation","sendBlogCreation","name","map","SignIn","setUserState","visibility","toggleVisibility","username","setUserName","password","setPassword","changeName","target","value","changePass","window","localStorage","getItem","submitLogin","preventDefault","login","setItem","JSON","stringify","setToken","token","App","loginVisible","setLoginVisible","hideWhenVisible","display","showWhenVisible","toggleLoginVisibility","setUser","logout","removeItem","getAll","then","sortedBlogs","sort","a","b","reverse","loggedUserJSON","parse"],"mappings":"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","sourcesContent":["import { useState, useEffect } from 'react'\nimport Blog from './components/Blog'\nimport blogService from './services/blogs'\nimport loginService from './services/login'\nimport CreateNew from './components/CreateNew'\n\nconst Blogs = ({ blogs, user, logoutFunc, setBlogs }) => {\n\n\n  const likeBlog = async (blog, likes) => {\n\n    let newBlogLikes = likes + 1\n\n\n    let blogObject = {\n      user: blog.user,\n      likes: newBlogLikes,\n      author: blog.author,\n      title: blog.title,\n      url: blog.url,\n      id: blog.id\n    }\n\n\n    try {\n      const returnedBlog = await blogService.changeBlog(blogObject)\n      console.log('blog likes are', newBlogLikes)\n      return newBlogLikes\n\n    } catch (e) {\n      alert('Liking the blog failed!')\n    }\n\n  }\n\n  const createBlog = ({ author, title, url }) => {\n    const blogCreation = blogService.sendBlogCreation({ author, title, url })\n    return blogCreation\n  }\n\n  return (\n    <div>\n      <h2>blogs</h2>\n      <p>{user.name} logged in<button onClick={logoutFunc}>logout</button></p>\n      {blogs.map(blog => <Blog likeFunction={likeBlog} user={user} blogs={blogs} setBlogs={setBlogs} key={blog.id} blog={blog} />)}\n    \n      <CreateNew \n        setBlogs={setBlogs} \n        blogs={blogs}\n        createBlogFunc={createBlog}\n      \n      />\n    </div>\n  )\n}\n\nconst SignIn = ({ setUserState, visibility, toggleVisibility }) => {\n\n  console.log('visibility is ', visibility)\n\n  const [username, setUserName] = useState('')\n  const [password, setPassword] = useState('')\n\n  const changeName = (e) => {\n    setUserName(e.target.value)\n  }\n\n  const changePass = (e) => {\n    setPassword(e.target.value)\n  }\n\n  if (!visibility && !window.localStorage.getItem('loggedInUser')) {\n    return <button onClick={toggleVisibility}>log in</button>\n  }\n\n  const submitLogin = async (e) => {\n    e.preventDefault()\n\n    try {\n      const user = await loginService.login({\n        username, password\n      })\n\n      window.localStorage.setItem(\n        'loggedInUser', JSON.stringify(user)\n      )\n\n      blogService.setToken(user.token)\n      setUserState(user)\n\n      setUserName('')\n      setPassword('')\n    } catch (e) {\n      alert('wrong credintials!')\n    }\n  }\n\n  return (\n    <div>\n      <h2>log in to application</h2>\n      <form onSubmit={submitLogin}>\n        <div>\n          username\n          <input value={username} onChange={changeName} />\n        </div>\n        <div>\n          password\n          <input type={'password'} value={password} onChange={changePass} />\n        </div>\n\n        <input type='submit' />\n      </form>\n\n      <button onClick={toggleVisibility}>cancel</button>\n    </div>\n  )\n}\n\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [loginVisible, setLoginVisible] = useState(false)\n\n  const hideWhenVisible = { display: loginVisible ? 'none' : '' }\n  const showWhenVisible = { display: loginVisible ? '' : 'none' }\n  const toggleLoginVisibility = () => setLoginVisible(!loginVisible)\n\n  const [user, setUser] = useState(null)\n  const logout = () => {\n    window.localStorage.removeItem('loggedInUser')\n    setUser(null)\n  }\n\n\n  useEffect(() => {\n    blogService.getAll().then(blogs => {\n      let sortedBlogs = blogs.sort((a, b) => a.likes - b.likes)\n      sortedBlogs.reverse()\n      setBlogs(sortedBlogs)\n    })  \n  }, [])\n\n  useEffect(() => {\n    const loggedUserJSON = window.localStorage.getItem('loggedInUser')\n    if (loggedUserJSON) {\n      const user = JSON.parse(loggedUserJSON)\n      blogService.setToken(user.token)\n      setUser(user)\n    }\n  }, [])\n\n  return (\n    <div>\n      {user !== null \n\n      ? <Blogs blogs={blogs} user={user} logoutFunc={logout} setBlogs={setBlogs} />\n      : <SignIn setUserState={setUser} visibility={loginVisible} toggleVisibility={toggleLoginVisibility} />}\n    </div>\n  )\n}\n\nexport default App\n"]},"metadata":{},"sourceType":"module"}