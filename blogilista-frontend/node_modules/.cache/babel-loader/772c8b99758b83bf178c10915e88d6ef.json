{"ast":null,"code":"var _jsxFileName = \"/home/juho/Documents/fullstackopen/fsopenp5-juho/blogilista-frontend/src/components/Blog.js\",\n    _s = $RefreshSig$();\n\nimport { useState } from \"react\";\nimport React from \"react\";\nimport blogLogin from '../services/blogs';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Blog = _ref => {\n  _s();\n\n  let {\n    blog,\n    blogs,\n    setBlogs,\n    user,\n    likeFunction\n  } = _ref;\n  const [showAll, setShowAll] = useState(false);\n\n  const toggleShow = () => setShowAll(!showAll);\n\n  const [blogLikes, setBlogLikes] = useState(blog.likes);\n  const [display, setDisplay] = useState(true);\n  const blogStyle = {\n    border: 'solid',\n    borderWidth: 0.1,\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 5,\n    display: display ? '' : 'none',\n    color: 'black'\n  };\n\n  if (!showAll) {\n    return /*#__PURE__*/_jsxDEV(\"div\", {\n      style: blogStyle,\n      children: [blog.title, \" \", blog.author, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: toggleShow,\n        children: \"view\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 28,\n        columnNumber: 36\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 27,\n      columnNumber: 7\n    }, this);\n  }\n\n  const removeBlog = async blog => {\n    let confirmation = window.confirm(`Remove blog ${blog.title} by ${blog.author}`);\n\n    if (!confirmation) {\n      return;\n    }\n\n    try {\n      blogLogin.removeBlog(blog);\n      setDisplay(false);\n    } catch (e) {\n      alert('blog remove failed.');\n      console.log(e.message);\n    }\n  };\n\n  const likeBlog = async blog => {\n    let newBlogLikes = blogLikes + 1;\n    let blogObject = {\n      user: blog.user,\n      likes: newBlogLikes,\n      author: blog.author,\n      title: blog.title,\n      url: blog.url,\n      id: blog.id\n    };\n\n    try {\n      const returnedBlog = await blogLogin.changeBlog(blogObject);\n    } catch (e) {\n      alert('Liking the blog failed!');\n    }\n  };\n\n  console.log('blog', blog);\n  const username = user.username;\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: blogStyle,\n    className: \"togglableContent\",\n    children: [blog.title, \" \", /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: toggleShow,\n      children: \"hide\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 80,\n      columnNumber: 20\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 81,\n      columnNumber: 7\n    }, this), blog.url, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 83,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"likes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 7\n    }, this), \" \", blogLikes, /*#__PURE__*/_jsxDEV(\"button\", {\n      className: \"likeBlog\",\n      onClick: async event => {\n        const likes = await likeFunction(blog, blogLikes);\n        setBlogLikes(likes);\n      },\n      children: \"like\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 84,\n      columnNumber: 35\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 7\n    }, this), blog.author, /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 7\n    }, this), !blog.user ? null : blog.user.username === username && /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: () => removeBlog(blog),\n      children: \"remove\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 63\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 79,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Blog, \"lq5tPd469hfokEiB78X+cCZY+dc=\");\n\n_c = Blog;\nexport default Blog;\n\nvar _c;\n\n$RefreshReg$(_c, \"Blog\");","map":{"version":3,"sources":["/home/juho/Documents/fullstackopen/fsopenp5-juho/blogilista-frontend/src/components/Blog.js"],"names":["useState","React","blogLogin","Blog","blog","blogs","setBlogs","user","likeFunction","showAll","setShowAll","toggleShow","blogLikes","setBlogLikes","likes","display","setDisplay","blogStyle","border","borderWidth","paddingTop","paddingBottom","paddingLeft","color","title","author","removeBlog","confirmation","window","confirm","e","alert","console","log","message","likeBlog","newBlogLikes","blogObject","url","id","returnedBlog","changeBlog","username","event"],"mappings":"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","sourcesContent":["import { useState } from \"react\"\nimport React from \"react\"\nimport blogLogin from '../services/blogs'\n\nconst Blog = ({blog, blogs, setBlogs, user, likeFunction}) => {\n\n  const [showAll, setShowAll] = useState(false)\n  const toggleShow = () => setShowAll(!showAll)\n\n  const [blogLikes, setBlogLikes] = useState(blog.likes)\n  \n  const [display, setDisplay] = useState(true)\n\n  const blogStyle = {\n    border: 'solid',\n    borderWidth: 0.1,\n    paddingTop: 10,\n    paddingBottom: 10,\n    paddingLeft: 5,\n    display: display ? '' : 'none',\n\n    color: 'black'\n  }\n\n  if (!showAll) {\n    return (\n      <div style={blogStyle}>\n        {blog.title} {blog.author} <button onClick={toggleShow}>view</button>\n      </div>\n    )\n  }\n\n\n  const removeBlog = async blog => {\n    let confirmation = window.confirm(`Remove blog ${blog.title} by ${blog.author}`)\n  \n    if (!confirmation) { \n      return\n    }\n  \n    try {\n      blogLogin.removeBlog(blog)\n      setDisplay(false)\n    } catch (e) {\n      alert('blog remove failed.')\n      console.log(e.message)\n    }\n  }\n\n  const likeBlog = async blog => {\n\n    let newBlogLikes = blogLikes + 1\n\n\n    let blogObject = {\n      user: blog.user,\n      likes: newBlogLikes,\n      author: blog.author,\n      title: blog.title,\n      url: blog.url,\n      id: blog.id\n    }\n\n\n    try {\n      const returnedBlog = await blogLogin.changeBlog(blogObject)\n\n    } catch (e) {\n      alert('Liking the blog failed!')\n    }\n\n  }\n\n  console.log('blog', blog)\n\n  const username = user.username\n\n  return (\n    <div style={blogStyle} className='togglableContent'>\n      {blog.title} <button onClick={toggleShow}>hide</button>\n      <br />\n      {blog.url}\n      <br />\n      <div>likes</div> {blogLikes}<button className=\"likeBlog\" onClick={async (event) => {\n        const likes = await likeFunction(blog, blogLikes)\n        setBlogLikes(likes)\n      }}>like</button>\n      <br />\n      {blog.author}\n      <br />\n      {!blog.user ? null : blog.user.username === username && <button onClick={() => removeBlog(blog)}>remove</button>}\n      \n    </div>\n  )\n\n}\n\nexport default Blog"]},"metadata":{},"sourceType":"module"}